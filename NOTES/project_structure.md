# Orthodox Calendar Discord Integration - Project Structure

## File Overview

This project contains all necessary files for implementing an automated Orthodox calendar posting system for Discord. Below is a complete breakdown of each file and its purpose.

## Core Application Files

### `orthodox_calendar_bot.py`
**Purpose**: Main application script
**Description**: Complete Python implementation that fetches daily Orthodox calendar data from orthocal.info and posts formatted messages to Discord via webhook. Includes comprehensive error handling, logging, and fallback mechanisms.

**Key Features**:
- Fetches data from orthocal.info API
- Creates rich Discord embeds with liturgical colors
- Handles both Gregorian and Julian calendars
- Robust error handling and logging
- Fallback to simple text messages if embeds fail

### `test_bot.py`
**Purpose**: Testing and validation script
**Description**: Comprehensive test suite that validates all bot functionality without requiring a Discord webhook. Tests API connectivity, data formatting, and message creation.

**Test Coverage**:
- API connection validation
- Data fetching for both calendar types
- Message formatting functions
- Discord embed creation
- Error handling scenarios

## Configuration Files

### `config.json.template`
**Purpose**: Configuration template
**Description**: Template file showing the structure and options for bot configuration. Users copy this to `config.json` and customize with their webhook URL and preferences.

**Configuration Options**:
- Discord webhook URL
- Calendar type (Gregorian/Julian)
- Bot appearance settings
- Message formatting preferences
- Logging configuration

### `requirements.txt`
**Purpose**: Python dependencies
**Description**: Lists all required Python packages for the bot to function properly.

**Dependencies**:
- `requests`: For HTTP API calls
- `python-dateutil`: For date formatting and manipulation

## Deployment Scripts

### `deploy_cron.sh`
**Purpose**: Automated cron job deployment
**Description**: Shell script that sets up the bot for daily execution via cron jobs. Handles dependency installation, configuration validation, and cron job setup guidance.

**Features**:
- Dependency installation
- Configuration validation
- Test execution
- Wrapper script creation
- Cron job setup instructions

### `run_bot.sh` (Generated by deploy_cron.sh)
**Purpose**: Cron execution wrapper
**Description**: Simple wrapper script created during deployment that ensures proper execution environment for cron jobs.

## Container Deployment Files

### `Dockerfile`
**Purpose**: Docker container definition
**Description**: Defines a lightweight Python container for running the bot in containerized environments.

**Features**:
- Python 3.11 slim base image
- Non-root user for security
- Optimized layer caching
- Environment variable support

### `docker-compose.yml`
**Purpose**: Docker Compose orchestration
**Description**: Defines services for running the bot with optional scheduling using the Ofelia scheduler container.

**Services**:
- Bot application container
- Optional scheduler container for automated execution

## GitHub Actions Workflow

### `.github/workflows/daily-calendar.yml`
**Purpose**: GitHub Actions automation
**Description**: Workflow definition for running the bot daily using GitHub's free cloud infrastructure.

**Features**:
- Scheduled daily execution
- Manual trigger capability
- Environment variable support
- Artifact upload on failure
- Cross-platform compatibility

## Documentation Files

### `README.md`
**Purpose**: Primary project documentation
**Description**: Comprehensive guide covering installation, configuration, and deployment across multiple platforms.

**Sections**:
- Quick start guide
- Configuration options
- Multiple deployment methods
- Troubleshooting guide
- Customization instructions

### `deployment_guide.md`
**Purpose**: Detailed deployment instructions
**Description**: In-depth guide covering testing, deployment, and maintenance procedures for all supported platforms.

**Coverage**:
- Pre-deployment testing
- Step-by-step deployment for each method
- Post-deployment validation
- Troubleshooting common issues
- Performance and security considerations

### `implementation_plan.md`
**Purpose**: Technical design documentation
**Description**: Detailed technical specification of the solution architecture, design decisions, and implementation approach.

### `orthocal_analysis.md`
**Purpose**: API research documentation
**Description**: Analysis of the orthocal.info website and available data sources, including API endpoints, data structure, and integration options.

### `discord_integration_research.md`
**Purpose**: Discord integration research
**Description**: Comprehensive research on Discord integration methods, including webhooks, bots, RSS services, and automation platforms.

## Project Structure

```
orthodox-calendar-discord-integration/
├── orthodox_calendar_bot.py          # Main application
├── test_bot.py                       # Test suite
├── config.json.template              # Configuration template
├── requirements.txt                  # Python dependencies
├── deploy_cron.sh                    # Cron deployment script
├── Dockerfile                        # Docker container definition
├── docker-compose.yml                # Docker Compose configuration
├── README.md                         # Primary documentation
├── deployment_guide.md               # Deployment instructions
├── implementation_plan.md            # Technical design document
├── orthocal_analysis.md              # API research
├── discord_integration_research.md   # Discord integration research
└── .github/
    └── workflows/
        └── daily-calendar.yml        # GitHub Actions workflow
```

## Usage Workflow

1. **Download/Clone**: Obtain all project files
2. **Configure**: Copy `config.json.template` to `config.json` and add webhook URL
3. **Test**: Run `python3 test_bot.py` to validate setup
4. **Deploy**: Choose deployment method and follow corresponding guide
5. **Monitor**: Check logs and Discord channel for successful operation

## Deployment Options Summary

| Method | Best For | Complexity | Cost | Maintenance |
|--------|----------|------------|------|-------------|
| Cron Job | VPS/Dedicated servers | Low | Server cost only | Low |
| GitHub Actions | No server needed | Very Low | Free | None |
| Docker | Containerized environments | Medium | Infrastructure cost | Low |
| Heroku | Easy cloud deployment | Low | Free tier available | Low |
| Cloud Functions | Serverless architecture | Medium | Pay-per-use | Very Low |

## Customization Points

The solution is designed for easy customization:

- **Message Format**: Modify formatting functions in `orthodox_calendar_bot.py`
- **Scheduling**: Adjust cron expressions or workflow schedules
- **Content Selection**: Configure which fields to include/exclude
- **Multiple Channels**: Deploy multiple instances with different webhooks
- **Calendar Types**: Switch between Gregorian and Julian calendars
- **Appearance**: Customize bot username, avatar, and embed colors

## Support and Maintenance

- **Logs**: All deployment methods include comprehensive logging
- **Error Handling**: Built-in fallback mechanisms for reliability
- **Updates**: Easy to update by replacing files and redeploying
- **Monitoring**: Health check scripts and log monitoring guidance provided
- **Backup**: Configuration backup procedures documented

This complete solution provides everything needed to implement automated Orthodox calendar posting to Discord, with flexibility to adapt to various deployment environments and requirements.

